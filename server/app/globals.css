@import "tailwindcss";
@plugin "@tailwindcss/forms";

@custom-variant dark (&:where(.dark, .dark *));

body {
  margin: 0;
  background: var(--background-color-one);
  color: var(--color-contrast);
  font-family: var(--font-sans);
  font-size: var(--text-md);
  overflow-x: hidden;
  /* -webkit-font-smoothing: antialiased; */
  -moz-osx-font-smoothing: grayscale;
}

:root {
  color-scheme: light dark;
}

@theme {
  /* Layout */
  --nav-height: 50px;
  --column-width: 900px;

  --font-sans:
    "SF Pro", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
  --font-text:
    "SF Pro Text", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-serif: "Lora", Georgia, serif;
  --font-mono:
    "SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New",
    monospace;

  /* Colors â€” restrained B&W palette */
  --background-color-one: #fff;
  --background-color-two: #fafafa;
  --background-color-input: #fff;
  --background-color-navbar: #000;
  --background-color-card: #fff;

  --color-contrast: #0a0a0a;
  --color-secondary: #888;
  --color-inverted: #fff;
  --color-link: #0a0a0a;
  --color-accent: #e5e5e5;
  --color-dangerous: #dc2626;
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Font sizes */
  --text-xs: 11px;
  --text-sm: 13px;
  --text-md: 14px;
  --text-lg: 16px;
  --text-xl: 18px;
}

.dark {
  color-scheme: dark;
  --background-color-one: #0a0a0a;
  --background-color-two: #111;
  --background-color-input: #1a1a1a;
  --background-color-navbar: #000;
  --background-color-card: #111;
  --border-color-stronger: #222;

  --color-contrast: #fafafa;
  --color-secondary: #666;
  --color-inverted: #0a0a0a;
  --color-primary: #ededed;
  --color-accent: #1a1a1a;
  --color-dangerous: #ef4444;
  --color-input: #1a1a1a;
  --color-ring: #333;
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    @apply border-neutral-200 dark:border-neutral-800;
  }

  input,
  textarea,
  select {
    @apply !border-neutral-200 dark:!border-neutral-700 transition;
  }
}

.font-serif {
  font-family: var(--font-serif);
}

.font-display {
  @apply font-sans;
  /* letter-spacing: -0.01em; */
}

.font-text {
  @apply font-text;
  letter-spacing: 0.015em;
}

.track-20 {
  letter-spacing: 0.02em;
}

.track-10 {
  letter-spacing: 0.01em;
}

/* Tight tracking for headings */
h1,
h2,
h3 {
  font-family: var(--font-sans);
}

button {
  cursor: pointer;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.2);
}

@media (prefers-color-scheme: light) {
  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.1);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.2);
  }
}

/* Auto-hide scrollbar - only shows on hover */
.scrollbar-auto-hide::-webkit-scrollbar-thumb {
  background: transparent;
  transition: background 0.2s ease;
}

.scrollbar-auto-hide:hover::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
}

.scrollbar-auto-hide:hover::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25);
}

@media (prefers-color-scheme: light) {
  .scrollbar-auto-hide:hover::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.15);
  }

  .scrollbar-auto-hide:hover::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.25);
  }
}

/* Hidden scrollbar - still scrollable */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Heading hierarchy */
.heading-page {
  @apply text-2xl font-semibold;
}

.heading-section {
  @apply text-lg font-semibold;
}

.heading-label {
  @apply text-sm font-medium text-neutral-900 dark:text-neutral-100;
}

.reset-btn {
  @apply text-xs text-link hover:text-link/80;
}

/* Typing indicator animation */
@keyframes typing-dot {
  0%,
  60%,
  100% {
    opacity: 0.3;
    transform: translateY(0);
  }
  30% {
    opacity: 1;
    transform: translateY(-3px);
  }
}

.animate-typing-dot {
  animation: typing-dot 1.4s ease-in-out infinite;
}
